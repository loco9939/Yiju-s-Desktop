<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href='' rel='stylesheet'>
    <title>Document</title>
</head>

<body>
    <div class="card-group container">

        <!-- 일단 HTML을 비웠다. js로 HTML 채워보자. -->

    </div>
    <!-- <div class="container my-4">
        <button class="btn btn-danger" id="sort60000"> 6만원 이하 </button>
    </div> -->
    <div style="margin: 30px;"></div>
    <button class="btn btn-danger ms-5 mb-3" id="reset" > Reset </button>
    <form class="form-a"> 
        <p style="display: inline-block; margin-left: 50px;">가격 :</p><input type="text" id="howmuch">
    </form>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script>
        var products = [ // 서버가 보낸 쇼핑몰 상품 데이터
            {
                id: 0,
                price: 70000,
                title: 'Channel Dress'
            },
            {
                id: 1,
                price: 50000,
                title: 'Gucci Shirt'
            },
            {
                id: 2,
                price: 60000,
                title: 'Louis Vuitton Monastery'
            },
            {
                id: 3,
                price: 55000,
                title: 'Yves Saint Laurent Shirts'
            }
        ];

        // 처음 사이트 들어오면 상품이 몇개 있던지 일단 3개만 먼저 보여주자.
        // array 갯수 만큼 기본 HTML 생성해주세요.
        function 기본() {
            products.forEach(function (i) {
                var 카드 = `<div class="card" style="width:400px;">
                    <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5 class="title">${i.title}</h5>
                <p>가격 : <span class="price">${i.price}</span></p>
                <button class="btn btn-danger">주문하기</button>
            </div>
            </div>`
                $('.card-group').append(카드);
            });
            // $('.card').eq(3).hide()
        };

        기본();
        var 필터 = products.filter(function (a) { // array 값 중 가격으로 필터하였다.
                return a.price <= $('#howmuch').val();});

        function 필터링() {
            필터.forEach(function (i) { // 필터된 array 값을 ${}에 넣어주세요~
                var 카드 = `<div class="card">
                    <img src="https://via.placeholder.com/600">
            <div class="card-body">
                <h5 class="title">${i.title}</h5>
                <p>가격 : <span class="price">${i.price}</span></p>
                <button class="btn btn-danger">주문하기</button>
            </div>
            </div>`
                $('.card-group').append(카드); // card-group Class에 '카드' 문자 자료형을 추가해주세요~
            });
        }

        // js로 HTML채우는 방법 append() 함수, 문자 자료형안에 담기.
        // 6만원 이하 버튼 누르면 price : 60000 인것만 보여주세요.
        $('#howmuch').change(function () { // 만약에 input 값 이하의 가격만 보여주게 한다면?
            $('.card-group').html('')
            if ($('#howmuch').val() == '') {
                기본();
            };
            var 필터 = products.filter(function (a) { // array 값 중 가격으로 필터하였다.
                return a.price <= $('#howmuch').val();
            });
            필터링();
        });

        $('#reset').click(function(){
            $('.card-group').html('')
            기본();
        });
    </script>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script>
</body>

</html>